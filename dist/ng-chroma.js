!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var o in n)("object"==typeof exports?exports:t)[o]=n[o]}}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";n(34);var o=n(73),r="hzub.ngChroma",i=angular.module(r,["angular-click-outside"]);i.component(o.ColorPickerComponent.NAME,o.ColorPickerComponent.OPTIONS),t.exports=r},function(t,e,n){var o=n(29)("wks"),r=n(31),i=n(3).Symbol,s="function"==typeof i,a=t.exports=function(t){return o[t]||(o[t]=s&&i[t]||(s?i:r)("Symbol."+t))};a.store=o},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){t.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(9),r=n(27);t.exports=n(4)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports={}},function(t,e,n){var o=n(13);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(7),r=n(48),i=n(63),s=Object.defineProperty;e.f=n(4)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var o=n(3),r=n(2),i=n(46),s=n(5),a="prototype",u=function(t,e,n){var l,c,f,h=t&u.F,d=t&u.G,p=t&u.S,v=t&u.P,y=t&u.B,m=t&u.W,g=d?r:r[e]||(r[e]={}),b=g[a],k=d?o:p?o[e]:(o[e]||{})[a];d&&(n=e);for(l in n)c=!h&&k&&void 0!==k[l],c&&l in g||(f=c?k[l]:n[l],g[l]=d&&"function"!=typeof k[l]?n[l]:y&&c?i(f,o):m&&k[l]==f?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[a]=t[a],e}(f):v&&"function"==typeof f?i(Function.call,f):f,v&&((g.virtual||(g.virtual={}))[l]=f,t&u.R&&b&&!b[l]&&s(b,l,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var o=n(29)("keys"),r=n(31);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(24),r=n(10);t.exports=function(t){return o(r(t))}},function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(38),i=o(r);e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}()},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=n(36),i=o(r),s=n(35),a=o(s);e.default=function(){function t(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var s,u=(0,a.default)(t);!(o=(s=u.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&u.return&&u.return()}finally{if(r)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,i.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){var o=n(21),r=n(1)("toStringTag"),i="Arguments"==o(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),r))?n:i?o(e):"Object"==(a=o(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(13),r=n(3).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var o=n(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var o=n(51),r=n(11),i=n(59),s=n(5),a=n(8),u=n(6),l=n(49),c=n(28),f=n(56),h=n(1)("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",v="keys",y="values",m=function(){return this};t.exports=function(t,e,n,g,b,k,C){l(n,e,g);var w,x,M,S=function(t){if(!d&&t in $)return $[t];switch(t){case v:return function(){return new n(this,t)};case y:return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",j=b==y,O=!1,$=t.prototype,R=$[h]||$[p]||b&&$[b],E=R||S(b),H=b?j?S("entries"):E:void 0,T="Array"==e?$.entries||R:R;if(T&&(M=f(T.call(new t)),M!==Object.prototype&&(c(M,_,!0),o||a(M,h)||s(M,h,m))),j&&R&&R.name!==y&&(O=!0,E=function(){return R.call(this)}),o&&!C||!d&&!O&&$[h]||s($,h,E),u[e]=E,u[_]=m,b)if(w={values:j?E:S(y),keys:k?E:S(v),entries:H},C)for(x in w)x in $||i($,x,w[x]);else r(r.P+r.F*(d||O),e,w);return w}},function(t,e,n){var o=n(57),r=n(23);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(9).f,r=n(8),i=n(1)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,n){var o=n(3),r="__core-js_shared__",i=o[r]||(o[r]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,n){var o=n(10);t.exports=function(t){return Object(o(t))}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){"use strict";var o=n(60)(!0);n(25)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){n(67);for(var o=n(3),r=n(5),i=n(6),s=n(1)("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var l=a[u],c=o[l],f=c&&c.prototype;f&&!f[s]&&r(f,s,l),i[l]=i.Array}},function(t,e){!function(){"use strict";function t(t,e,n){return{restrict:"A",link:function(o,r,i){n(function(){function s(t){var s,a,c,f,h,d;if(!angular.element(r).hasClass("ng-hide")&&t&&t.target){for(a=t.target;a;a=a.parentNode){if(a===r[0])return;if(f=a.id,h=a.className,d=l.length,h&&void 0!==h.baseVal&&(h=h.baseVal),h||f)for(s=0;s<d;s++)if(c=new RegExp("\\b"+l[s]+"\\b"),void 0!==f&&f===l[s]||h&&c.test(h))return}n(function(){(u=e(i.clickOutside))(o)})}}function a(){return"ontouchstart"in window||navigator.maxTouchPoints}var u,l=void 0!==i.outsideIfNot?i.outsideIfNot.split(/[ ,]+/):[];a()&&t.on("touchstart",s),t.on("click",s),o.$on("$destroy",function(){a()&&t.off("touchstart",s),t.off("click",s)})})}}}angular.module("angular-click-outside",[]).directive("clickOutside",["$document","$parse","$timeout",t])}()},function(t,e,n){t.exports={default:n(39),__esModule:!0}},function(t,e,n){t.exports={default:n(40),__esModule:!0}},function(t,e,n){t.exports={default:n(41),__esModule:!0}},function(t,e,n){t.exports={default:n(42),__esModule:!0}},function(t,e,n){n(33),n(32),t.exports=n(65)},function(t,e,n){n(33),n(32),t.exports=n(66)},function(t,e,n){n(68),t.exports=n(2).Object.assign},function(t,e,n){n(69);var o=n(2).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,n){var o=n(16),r=n(62),i=n(61);t.exports=function(t){return function(e,n,s){var a,u=o(e),l=r(u.length),c=i(s,l);if(t&&n!=n){for(;l>c;)if(a=u[c++],a!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var o=n(43);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){t.exports=n(3).document&&document.documentElement},function(t,e,n){t.exports=!n(4)&&!n(12)(function(){return 7!=Object.defineProperty(n(22)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var o=n(53),r=n(27),i=n(28),s={};n(5)(s,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(s,{next:r(1,n)}),i(t,e+" Iterator")}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=!0},function(t,e,n){"use strict";var o=n(26),r=n(55),i=n(58),s=n(30),a=n(24),u=Object.assign;t.exports=!u||n(12)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=o})?function(t,e){for(var n=s(t),u=arguments.length,l=1,c=r.f,f=i.f;u>l;)for(var h,d=a(arguments[l++]),p=c?o(d).concat(c(d)):o(d),v=p.length,y=0;v>y;)f.call(d,h=p[y++])&&(n[h]=d[h]);return n}:u},function(t,e,n){var o=n(7),r=n(54),i=n(23),s=n(14)("IE_PROTO"),a=function(){},u="prototype",l=function(){var t,e=n(22)("iframe"),o=i.length,r="<",s=">";for(e.style.display="none",n(47).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+s+"document.F=Object"+r+"/script"+s),t.close(),l=t.F;o--;)delete l[u][i[o]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=o(t),n=new a,a[u]=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var o=n(9),r=n(7),i=n(26);t.exports=n(4)?Object.defineProperties:function(t,e){r(t);for(var n,s=i(e),a=s.length,u=0;a>u;)o.f(t,n=s[u++],e[n]);return t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(8),r=n(30),i=n(14)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var o=n(8),r=n(16),i=n(45)(!1),s=n(14)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),u=0,l=[];for(n in a)n!=s&&o(a,n)&&l.push(n);for(;e.length>u;)o(a,n=e[u++])&&(~i(l,n)||l.push(n));return l}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){t.exports=n(5)},function(t,e,n){var o=n(15),r=n(10);t.exports=function(t){return function(e,n){var i,s,a=String(r(e)),u=o(n),l=a.length;return u<0||u>=l?t?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):(i-55296<<10)+(s-56320)+65536)}}},function(t,e,n){var o=n(15),r=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?r(t+e,0):i(t,e)}},function(t,e,n){var o=n(15),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){var o=n(13);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(20),r=n(1)("iterator"),i=n(6);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||i[o(t)]}},function(t,e,n){var o=n(7),r=n(64);t.exports=n(2).getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},function(t,e,n){var o=n(20),r=n(1)("iterator"),i=n(6);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||i.hasOwnProperty(o(e))}},function(t,e,n){"use strict";var o=n(44),r=n(50),i=n(6),s=n(16);t.exports=n(25)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,n):"values"==e?r(0,t[n]):r(0,[n,t[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var o=n(11);o(o.S+o.F,"Object",{assign:n(52)})},function(t,e,n){var o=n(11);o(o.S+o.F*!n(4),"Object",{defineProperty:n(9).f})},function(t,e){},function(t,e){(function(e){function n(t,e,n){function o(e){var n=v,o=y;return v=y=void 0,M=e,g=t.apply(o,n)}function i(t){return M=t,b=setTimeout(c,e),S?o(t):g}function s(t){var n=t-k,o=t-M,r=e-n;return _?w(r,m-o):r}function l(t){var n=t-k,o=t-M;return void 0===k||n>=e||n<0||_&&o>=m}function c(){var t=x();return l(t)?f(t):void(b=setTimeout(c,s(t)))}function f(t){return b=void 0,j&&v?o(t):(v=y=void 0,g)}function h(){void 0!==b&&clearTimeout(b),M=0,v=k=y=b=void 0}function d(){return void 0===b?g:f(x())}function p(){var t=x(),n=l(t);if(v=arguments,y=this,k=t,n){if(void 0===b)return i(k);if(_)return b=setTimeout(c,e),o(k)}return void 0===b&&(b=setTimeout(c,e)),g}var v,y,m,g,b,k,M=0,S=!1,_=!1,j=!0;if("function"!=typeof t)throw new TypeError(u);return e=a(e)||0,r(n)&&(S=!!n.leading,_="maxWait"in n,m=_?C(a(n.maxWait)||0,e):m,j="trailing"in n?!!n.trailing:j),p.cancel=h,p.flush=d,p}function o(t,e,o){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError(u);return r(o)&&(i="leading"in o?!!o.leading:i,s="trailing"in o?!!o.trailing:s),n(t,e,{leading:i,maxWait:e,trailing:s})}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==typeof t}function s(t){return"symbol"==typeof t||i(t)&&k.call(t)==c}function a(t){if("number"==typeof t)return t;if(s(t))return l;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(f,"");var n=d.test(t);return n||p.test(t)?v(t.slice(2),n?2:8):h.test(t)?l:+t}var u="Expected a function",l=NaN,c="[object Symbol]",f=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,y="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,g=y||m||Function("return this")(),b=Object.prototype,k=b.toString,C=Math.max,w=Math.min,x=function(){return g.Date.now()};t.exports=o}).call(e,function(){return this}())},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorUtils=void 0;var r=n(19),i=o(r),s=n(17),a=o(s),u=n(18),l=o(u);e.ColorUtils=function(){function t(){(0,a.default)(this,t)}return(0,l.default)(t,null,[{key:"createGradient",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return o+"linear-gradient("+t+",\n      rgba("+e[0]+","+e[1]+", "+e[2]+", "+e[3]+"),\n      rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+"))"}},{key:"rgbaToHtml",value:function(e){return"number"==typeof e[3]&&e[3]<1?t.rgbaToRgbaHtml(e):t.rgbaToHexHtml(e)}},{key:"rgbaToRgbaHtml",value:function(t){var e="number"==typeof t[3]?t[3]:1;return e=e.toString().substr(0,4),"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}},{key:"rgbaToHexHtml",value:function(t){var e="#";return e+=("0"+parseInt(t[0],10).toString(16)).slice(-2),e+=("0"+parseInt(t[1],10).toString(16)).slice(-2),e+=("0"+parseInt(t[2],10).toString(16)).slice(-2)}},{key:"hsbToRgba",value:function(t){var e=(0,i.default)(t,3),n=e[0],o=e[1],r=e[2],s=void 0,a=void 0,u=void 0,l=Math.floor(6*n),c=6*n-l,f=r*(1-o),h=r*(1-c*o),d=r*(1-(1-c)*o);switch(l%6){case 0:s=r,a=d,u=f;break;case 1:s=h,a=r,u=f;break;case 2:s=f,a=r,u=d;break;case 3:s=f,a=h,u=r;break;case 4:s=d,a=f,u=r;break;case 5:s=r,a=f,u=h}return[Math.round(255*s),Math.round(255*a),Math.round(255*u),1]}},{key:"rgbaToHsb",value:function(t){var e=(0,i.default)(t,3),n=e[0],o=e[1],r=e[2],s=Math.max(n,o,r),a=Math.min(n,o,r),u=s-a,l=0===s?0:u/s,c=s/255,f=void 0;switch(s){case a:f=0;break;case n:f=o-r+u*(o<r?6:0),f/=6*u;break;case o:f=r-n+2*u,f/=6*u;break;case r:f=n-o+4*u,f/=6*u}return[f,l,c]}},{key:"htmlColorToRgba",value:function(t){var e=/^rgba?[\s]?\(\s*(\d+)\s*\,\s*(\d+)\s*,\s*(\d+)\s*,?\s*([\d\.]+)?/i.exec(t);if(e)return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4],10)||1];var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1]:null}},{key:"rgbaToCmyk",value:function(t){var e=void 0,n=void 0,o=void 0,r=void 0,i=t[0]/255,s=t[1]/255,a=t[2]/255;return r=Math.min(1-i,1-s,1-a),e=(1-i-r)/(1-r),n=(1-s-r)/(1-r),o=(1-a-r)/(1-r),e=Math.round(100*e)||0,n=Math.round(100*n)||0,o=Math.round(100*o)||0,r=Math.round(100*r),[e,n,o,r]}},{key:"cmykToRgba",value:function(t){var e=void 0,n=void 0,o=void 0,r=(0,i.default)(t,4),s=r[0],a=r[1],u=r[2],l=r[3];return s/=100,a/=100,u/=100,l/=100,e=1-Math.min(1,s*(1-l)+l),n=1-Math.min(1,a*(1-l)+l),o=1-Math.min(1,u*(1-l)+l),e=Math.round(255*e),n=Math.round(255*n),o=Math.round(255*o),[e,n,o,1]}}]),t}()},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerComponent=void 0;var r=n(19),i=o(r),s=n(37),a=o(s),u=n(17),l=o(u),c=n(18),f=o(c),h=n(71),d=o(h);n(70);var p=n(72),v=e.ColorPickerComponent=function(){function t(e,n,o){"ngInject";(0,l.default)(this,t),(0,a.default)(this,{$scope:e,$element:n,$attrs:o}),this.selectColor=(0,d.default)(this._selectColor,50),this.hueMouseDown_bound=this.hueMouseDown.bind(this),this.alphaMouseDown_bound=this.alphaMouseDown.bind(this),this.hslMouseDown_bound=this.hslMouseDown.bind(this),this.bodyMouseMove_bound=this.bodyMouseMove.bind(this),this.bodyMouseUp_bound=this.bodyMouseUp.bind(this)}return t.$inject=["$scope","$element","$attrs"],(0,f.default)(t,[{key:"$onInit",value:function(){this.showCmykColors="undefined"!=typeof this.$attrs.cmykColors,this.showAlpha="undefined"!=typeof this.$attrs.alphaColors,this.showSelectedValue="undefined"!=typeof this.$attrs.showSelectedValue}},{key:"$onDestroy",value:function(){this.detachEventListeners()}},{key:"detachEventListeners",value:function(){this.domRefs&&(this.domRefs.alphaContainer.removeEventListener("mousedown",this.alphaMouseDown_bound),this.domRefs.hueContainer.removeEventListener("mousedown",this.hueMouseDown_bound),this.domRefs.hslContainer.removeEventListener("mousedown",this.hslMouseDown_bound),this.domRefs.body.removeEventListener("mousemove",this.bodyMouseMove_bound),this.domRefs.body.removeEventListener("mouseup",this.bodyMouseUp_bound),this.domRefs=null)}},{key:"setHue",value:function(t){this.selectedHue=t;var e=p.ColorUtils.rgbaToHtml(p.ColorUtils.hsbToRgba([t,1,1]));this.domRefs.lightnessHslContainer.style.backgroundColor=e,this.domRefs.hueHandle.style.left=100*t+"%"}},{key:"setAlpha",value:function(t){this.selectedAlpha=t,this.domRefs.alphaHandle.style.left=100*t+"%"}},{key:"setLightnessSaturation",value:function(t,e){this.selectedSaturation=e,this.selectedLightness=t,this.domRefs.hslHandle.style.left=100*t+"%",this.domRefs.hslHandle.style.top=100*(1-e)+"%"}},{key:"selectColorFromHsl",value:function(){var t=p.ColorUtils.hsbToRgba([this.selectedHue,this.selectedSaturation,this.selectedLightness]);this.setAlphaOverlay(t),t[3]=this.selectedAlpha,this.selectColor(p.ColorUtils.rgbaToHtml(t))}},{key:"setAlphaOverlay",value:function(t){this.domRefs.alphaOverlay.style.background=p.ColorUtils.createGradient("to right",[0,0,0,0],[t[0],t[1],t[2],1],"-webkit-"),this.domRefs.alphaOverlay.style.background=p.ColorUtils.createGradient("to right",[0,0,0,0],[t[0],t[1],t[2],1],"-moz-"),this.domRefs.alphaOverlay.style.background=p.ColorUtils.createGradient("to right",[0,0,0,0],[t[0],t[1],t[2],1],"-ms-"),this.domRefs.alphaOverlay.style.background=p.ColorUtils.createGradient("to right",[0,0,0,0],[t[0],t[1],t[2],1])}},{key:"refreshSelectedCmykColor",value:function(){var t=p.ColorUtils.hsbToRgba([this.selectedHue,this.selectedSaturation,this.selectedLightness]);this.setCmyk(p.ColorUtils.rgbaToCmyk(t))}},{key:"selectAlphaFromEvent",value:function(t){if(this.selectingAlpha){var e=t.pageX-this.selectingAlpha[0];e=Math.min(e,this.domRefs.alphaContainer.clientWidth),e=Math.max(e,0),this.setAlpha(e/this.domRefs.alphaContainer.clientWidth),this.selectColorFromHsl(),this.refreshSelectedCmykColor()}}},{key:"selectHueFromEvent",value:function(t){if(this.selectingHue){var e=t.pageX-this.selectingHue[0];e=Math.min(e,this.domRefs.hueContainer.clientWidth),e=Math.max(e,0),this.setHue(e/this.domRefs.hueContainer.clientWidth),this.selectColorFromHsl(),this.refreshSelectedCmykColor()}}},{key:"selectSaturationFromEvent",value:function(t){if(this.selectingSaturation){var e=t.pageX-this.selectingSaturation[0],n=t.pageY-this.selectingSaturation[1];e=Math.min(Math.max(e,0),this.domRefs.hslContainer.clientWidth),n=Math.min(Math.max(n,0),this.domRefs.hslContainer.clientHeight);var o=1-n/this.domRefs.hslContainer.clientHeight,r=e/this.domRefs.hslContainer.clientWidth;this.setLightnessSaturation(r,o),this.selectColorFromHsl(),this.refreshSelectedCmykColor()}}},{key:"hueMouseDown",value:function(e){this.selectingHue=[this.domRefs.hueContainer.getBoundingClientRect().left],this.selectHueFromEvent(e),t.blockPageSelecting(!0)}},{key:"alphaMouseDown",value:function(e){this.selectingAlpha=[this.domRefs.alphaContainer.getBoundingClientRect().left],this.selectAlphaFromEvent(e),t.blockPageSelecting(!0)}},{key:"hslMouseDown",value:function(e){this.selectingSaturation=[this.domRefs.hslContainer.getBoundingClientRect().left,this.domRefs.hslContainer.getBoundingClientRect().top],this.selectSaturationFromEvent(e),t.blockPageSelecting(!0)}},{key:"bodyMouseMove",value:function(t){this.selectHueFromEvent(t),this.selectSaturationFromEvent(t),this.selectAlphaFromEvent(t)}},{key:"bodyMouseUp",value:function(){this.selectingSaturation=null,this.selectingHue=null,this.selectingAlpha=null,t.blockPageSelecting(!1)}},{key:"attachEventListeners",value:function(){this.domRefs={body:document.body,lightnessHslContainer:this.$element[0].querySelector(".js-lightness-saturation"),hslContainer:this.$element[0].querySelector(".js-hsl-container"),hslHandle:this.$element[0].querySelector(".js-hsl-handle"),hueContainer:this.$element[0].querySelector(".js-hue-container"),hueHandle:this.$element[0].querySelector(".js-hue-handle"),alphaContainer:this.$element[0].querySelector(".js-alpha-container"),alphaHandle:this.$element[0].querySelector(".js-alpha-handle"),alphaOverlay:this.$element[0].querySelector(".js-alpha-overlay")},this.domRefs.alphaContainer.addEventListener("mousedown",this.alphaMouseDown_bound),this.domRefs.hueContainer.addEventListener("mousedown",this.hueMouseDown_bound),this.domRefs.hslContainer.addEventListener("mousedown",this.hslMouseDown_bound),this.domRefs.body.addEventListener("mousemove",this.bodyMouseMove_bound),this.domRefs.body.addEventListener("mouseup",this.bodyMouseUp_bound)}},{key:"togglePopup",value:function(){this.popupShown?this.hidePopup():this.showPopup()}},{key:"onPopupShown",value:function(){this.attachEventListeners(),this.restoreColors()}},{key:"setCmyk",value:function(t){var e=(0,i.default)(t,4);this.cmykC=e[0],this.cmykM=e[1],this.cmykY=e[2],this.cmykK=e[3]}},{key:"restoreHsl",value:function(t){t[3]&&this.setAlpha(t[3]);var e=p.ColorUtils.rgbaToHsb(t);e&&(this.setAlphaOverlay(t),this.setHue(e[0]),this.setLightnessSaturation(e[2],e[1]))}},{key:"restoreColors",value:function(){var t=p.ColorUtils.htmlColorToRgba(this.ngModel.$viewValue);t||(t=[0,0,0,1],this.selectColor(p.ColorUtils.rgbaToHtml(t))),this.setCmyk(p.ColorUtils.rgbaToCmyk(t)),this.restoreHsl(t),this.selectedColorString=p.ColorUtils.rgbaToHtml(t)}},{key:"showPopup",value:function(){this.popupShown=!0}},{key:"hidePopup",value:function(){this.popupShown=!1,this.detachEventListeners()}},{key:"_selectColor",value:function(t){this.ngModel.$setViewValue(t),this.selectedColorString=t,this.ngChange({})}},{key:"cmykChanged",value:function(){var t=p.ColorUtils.cmykToRgba([this.cmykC,this.cmykM,this.cmykY,this.cmykK]);this.restoreHsl(t),this.selectColorFromHsl()}},{key:"selectColorAndHide",value:function(t){this.selectColor(t),this.popupShown=!1}}],[{key:"blockPageSelecting",value:function(t){var e=document.body,n=t?"none":"";e.style.webkitUserSelect=n,e.style.khtmlUserSelect=n,e.style.mozUserSelect=n,e.style.msUserSelect=n,e.style.userSelect=n}}]),t}();v.NAME="ngChroma",v.OPTIONS={controller:v,template:n(74),require:{ngModel:"ngModel"},bindings:{ngChange:"&ngChange",customColors:"<",customColorsLabel:"@"}}},function(t,e){t.exports='<div class="color-picker" click-outside="$ctrl.hidePopup()">\n    <button ng-click="$ctrl.togglePopup()" class="main-button" ng-class="{\'isActive\': $ctrl.popupShown}">\n        <div class="main-button-background">\n            <div class="main-button-preview" style="background-color: {{$ctrl.ngModel.$viewValue}}"></div>\n        </div>\n        <i class="main-button-caret"></i>\n    </button>\n    <div class="color-picker-selector js-selector" ng-class="{\'isShown\': $ctrl.popupShown}" ng-if="$ctrl.popupShown" ng-init="$ctrl.onPopupShown()">\n        <div class="user-color-label" ng-bind="::($ctrl.customColorsLabel)" ng-if="::($ctrl.customColorsLabel)"></div>\n        <div class="user-color-container" ng-if="::($ctrl.customColors)">\n            <button ng-click="$ctrl.selectColorAndHide(stdColor)" ng-repeat="stdColor in ::($ctrl.customColors) track by $index" class="user-color">\n                <div class="user-color-preview" style="background-color: {{::stdColor}}"></div>\n            </button>\n        </div>\n        <div class="separator" ng-if="::($ctrl.customColors)"></div>\n        <div class="hsl-selector-container">\n            <div class="hsl-selector-lightness-saturation js-lightness-saturation">\n                <div class="hsl-selector-lightness">\n                </div>\n                <div class="hsl-selector-saturation js-hsl-container">\n                    <div class="hsl-selector-saturation-handle js-hsl-handle"></div>\n                </div>\n            </div>\n            <div class="margin"></div>\n            <div class="hsl-selector-hue js-hue-container">\n                <div class="hsl-selector-hue-handle js-hue-handle"></div>\n            </div>\n        </div>\n        <div class="margin"></div>\n        <div class="alpha-selector" ng-show="::($ctrl.showAlpha)">\n            <div class="alpha-selector-track js-alpha-container">\n                <div class="alpha-selector-overlay js-alpha-overlay">\n                </div>\n                <div class="alpha-selector-handle js-alpha-handle"></div>\n            </div>\n        </div>\n        <div class="picker-cmyk-container" ng-if="::($ctrl.showCmykColors)">\n            <div class="margin"></div>\n            <div class="picker-cmyk">\n                <div class="picker-cmyk-input">\n                    <span>C:</span>\n                    <input min="0" max="100" type="number" ng-model="$ctrl.cmykC" ng-change="$ctrl.cmykChanged()" />\n                </div>\n                <div class="picker-cmyk-input">\n                    <span>M:</span>\n                    <input min="0" max="100" type="number" ng-model="$ctrl.cmykM" ng-change="$ctrl.cmykChanged()" />\n                </div>\n                <div class="picker-cmyk-input">\n                    <span>Y:</span>\n                    <input min="0" max="100" type="number" ng-model="$ctrl.cmykY" ng-change="$ctrl.cmykChanged()" />\n                </div>\n                <div class="picker-cmyk-input">\n                    <span>K:</span>\n                    <input min="0" max="100" type="number" ng-model="$ctrl.cmykK" ng-change="$ctrl.cmykChanged()" />\n                </div>\n            </div>\n        </div>\n        <div class="selected-color" ng-show="::($ctrl.showSelectedValue)">\n            <div class="margin"></div>\n            <span class="selected-color-label">Selected color:</span> <span class="selected-color-value">{{$ctrl.selectedColorString}}</span>\n        </div>\n    </div>\n</div>\n'}])});